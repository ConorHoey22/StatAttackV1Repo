{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"D:\\\\StatsAppNative\\\\MyApp\\\\screens\\\\AddPlayers\\\\AddPlayersScreen.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { useEffect, useState, Component } from 'react';\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\nimport 'firebase/database';\nimport { widthPercentageToDP as wp, heightPercentageToDP as hp } from 'react-native-responsive-screen';\nimport { useNavigation } from '@react-navigation/native';\nimport { createAppContainer } from 'react-navigation';\nimport { createStackNavigator } from 'react-navigation-stack';\nimport { ImageEditor } from \"react-native-web/dist/index\";\n\nvar AddPlayersScreen = function (_Component) {\n  _inherits(AddPlayersScreen, _Component);\n\n  var _super = _createSuper(AddPlayersScreen);\n\n  function AddPlayersScreen(props) {\n    var _this;\n\n    _classCallCheck(this, AddPlayersScreen);\n\n    _this = _super.call(this, props);\n\n    _this.playerList = function () {\n      var myUserId = firebase.auth().currentUser.uid;\n      var tempArr = [];\n      firebase.database().ref('/teams').child(myUserId).child('/players').on('value', function (snapshot) {\n        tempArr = _this.snapshotToArray(snapshot);\n\n        _this.setState({\n          listPlayers: tempArr\n        });\n      });\n    };\n\n    _this.snapshotToArray = function (snapshot) {\n      var retArr = [];\n      snapshot.forEach(function (childSnapshot) {\n        var item = childSnapshot.val();\n        item.key = childSnapshot.key;\n        retArr.push(item);\n      });\n      return retArr;\n    };\n\n    _this.checkLimit = function () {\n      var myUserId = firebase.auth().currentUser.uid;\n      firebase.database().ref('/users').child(myUserId).on('value', function (snapshot) {\n        var userObj = snapshot.val();\n        var teamplayerlimit = userObj.teamplayerlimit;\n\n        _this.setState({\n          teamplayerlimit: teamplayerlimit\n        });\n\n        firebase.database().ref('/teams').child(myUserId).on('value', function (snapshot) {\n          var teamObj = snapshot.val();\n          var playercounter = teamObj.playercounter;\n\n          _this.setState({\n            playercounter: playercounter\n          });\n        });\n      });\n    };\n\n    _this.addPlayer = function _callee() {\n      var _this$state, fullName, inviteCode, playerData1, myUserId, checkUniqueness;\n\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this$state = _this.state, fullName = _this$state.fullName, inviteCode = _this$state.inviteCode;\n\n              if (fullName.length > 0) {\n                if (inviteCode.length > 0) {\n                  playerData1 = {\n                    inviteCode: _this.state.inviteCode\n                  };\n                  myUserId = firebase.auth().currentUser.uid;\n                  checkUniqueness = firebase.database().ref('/teams').child(myUserId).child('/players').orderByChild('inviteCode').equalTo(playerData1.inviteCode).once('value', function (snapshot) {\n                    if (snapshot.exists()) {\n                      alert('This player invite code has already been used, try again');\n                    } else {\n                      var isUnique = false;\n\n                      while (isUnique == false) {\n                        var randLetter = String.fromCharCode(65 + Math.floor(Math.random() * 26));\n                        var uniqid = randLetter + Date.now();\n\n                        var _checkUniqueness = firebase.database().ref('/teams').child(myUserId).child('/players').orderByChild('UserID').equalTo(uniqid).once('value', function (snapshot) {\n                          if (snapshot.exists()) {\n                            isUnique = false;\n                          } else {\n                            var playerData = {\n                              fullName: _this.state.fullName,\n                              inviteCode: _this.state.inviteCode,\n                              UserID: uniqid,\n                              Verified: false,\n                              starting11Status: 0,\n                              SubStatus: 0,\n                              AvailableStatus: 1,\n                              totalGoals: 0,\n                              totalPoints: 0,\n                              totalPasses: 0,\n                              totalShots: 0,\n                              totalShotsOnTarget: 0,\n                              totalTackles: 0,\n                              totalWonTheBall: 0,\n                              totalLostTheBall: 0,\n                              totalYellowCards: 0,\n                              totalRedCards: 0,\n                              totalAssists: 0\n                            };\n                            var teamplayersref = firebase.database().ref('/teams').child(myUserId).child('/players');\n                            firebase.database().ref('/teams').child(myUserId).child('playercounter').set(firebase.database.ServerValue.increment(1));\n                            teamplayersref.push(playerData);\n                            isUnique = true;\n                          }\n                        });\n\n                        if (isUnique = true) {\n                          break;\n                        }\n                      }\n                    }\n                  });\n                } else {\n                  alert(\"Please enter their invite code.\");\n                }\n              } else {\n                alert(\"Please enter their full name.\");\n              }\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.ViewPlayer = function (itemKey) {\n      var myUserId = firebase.auth().currentUser.uid;\n      firebase.database().ref('/teams').child(myUserId).child('/players').child(itemKey).once('value', function (snapshot) {\n        var playerObj = snapshot.val();\n\n        _this.props.navigation.navigate('ViewPlayer', {\n          playerKey: playerObj.UserID,\n          itemKey: itemKey\n        });\n      });\n    };\n\n    _this.RemovePlayer = function (itemKey) {\n      var myUserId = firebase.auth().currentUser.uid;\n      firebase.database().ref('/teams').child(myUserId).child('/players').once('value', function (snapshot) {\n        if (snapshot.exists()) {\n          firebase.database().ref('/teams').child(myUserId).child('/players').child(itemKey).remove();\n          firebase.database().ref('/teams').child(myUserId).child('playercounter').set(firebase.database.ServerValue.increment(-1));\n        } else {\n          alert('Player does not exist');\n        }\n      });\n    };\n\n    _this.state = {\n      fullName: '',\n      inviteCode: '',\n      playercounter: 0,\n      teamplayerlimit: 0,\n      starting11Player: 0,\n      SubStatus: 0,\n      listPlayers: [],\n      templist: [],\n      tempid: ''\n    };\n    return _this;\n  }\n\n  _createClass(AddPlayersScreen, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.checkLimit();\n      this.playerList();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var AddPlayerView;\n      var PlayerList;\n      var checkplayercounter = this.state.playercounter;\n      var checkteamplayerlimit = this.state.teamplayerlimit;\n\n      if (checkplayercounter == checkteamplayerlimit) {\n        AddPlayerView = React.createElement(View, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 17\n          }\n        }, React.createElement(Text, {\n          style: styles.myText,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 21\n          }\n        }, \"Your Team player limit has been hit.  Please either delete a player from your team or contact us to upgrade you package \"));\n      } else {\n        AddPlayerView = React.createElement(View, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 17\n          }\n        }, React.createElement(ScrollView, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 21\n          }\n        }, React.createElement(View, {\n          style: styles.textcolumn,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 21\n          }\n        }, React.createElement(Text, {\n          style: styles.BlackTextBold,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 29\n          }\n        }, \" Create a Player record: \"), React.createElement(View, {\n          style: styles.columnView,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 25\n          }\n        }, React.createElement(Text, {\n          style: styles.BlackText,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 33\n          }\n        }, \" Please enter their full name:\"), React.createElement(TextInput, {\n          style: styles.input,\n          placeholderTextColor: \"#aaaaaa\",\n          placeholder: \"Please enter your full name\",\n          onChangeText: function onChangeText(text) {\n            return _this2.setState({\n              fullName: text\n            });\n          },\n          value: this.state.fullName,\n          underlineColorAndroid: \"transparent\",\n          autoCapitalize: \"none\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 33\n          }\n        })), React.createElement(View, {\n          style: styles.columnView,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 29\n          }\n        }, React.createElement(Text, {\n          style: styles.BlackText,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 33\n          }\n        }, \"*Players will enter this code when registering to join a team\"), React.createElement(TextInput, {\n          style: styles.input,\n          placeholderTextColor: \"#aaaaaa\",\n          placeholder: \"Please enter your invite code\",\n          onChangeText: function onChangeText(text) {\n            return _this2.setState({\n              inviteCode: text\n            });\n          },\n          value: this.state.inviteCode,\n          underlineColorAndroid: \"transparent\",\n          autoCapitalize: \"none\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 37\n          }\n        })), React.createElement(View, {\n          style: styles.footerView,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 29\n          }\n        }, React.createElement(TouchableOpacity, {\n          style: styles.exitRedButton,\n          onPress: this.addPlayer,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 33\n          }\n        }, React.createElement(Text, {\n          style: styles.myText,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 37\n          }\n        }, \"Click here to add the player\"))))));\n        PlayerList = React.createElement(ScrollView, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 21\n          }\n        }, React.createElement(Text, {\n          style: styles.WhiteTextBold,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 25\n          }\n        }, \"Your Team Members\"), React.createElement(FlatList, {\n          data: this.state.listPlayers,\n          renderItem: function renderItem(_ref) {\n            var item = _ref.item;\n            return React.createElement(View, {\n              style: styles.textWrapper,\n              __self: _this2,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 402,\n                columnNumber: 33\n              }\n            }, React.createElement(Text, {\n              style: styles.PlayerName,\n              __self: _this2,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 404,\n                columnNumber: 45\n              }\n            }, \"Player Name: \", item.fullName), React.createElement(View, {\n              style: styles.columnView,\n              __self: _this2,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 406,\n                columnNumber: 53\n              }\n            }, React.createElement(TouchableOpacity, {\n              style: styles.exitRedButton,\n              onPress: function onPress() {\n                return _this2.ViewPlayer(item.key);\n              },\n              __self: _this2,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 407,\n                columnNumber: 57\n              }\n            }, React.createElement(Text, {\n              style: styles.myText,\n              __self: _this2,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 408,\n                columnNumber: 61\n              }\n            }, \"View Player\"))), React.createElement(View, {\n              style: styles.columnView,\n              __self: _this2,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 413,\n                columnNumber: 53\n              }\n            }, React.createElement(TouchableOpacity, {\n              style: styles.RedButton,\n              onPress: function onPress() {\n                return _this2.RemovePlayer(item.key);\n              },\n              __self: _this2,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 414,\n                columnNumber: 57\n              }\n            }, React.createElement(Image, {\n              style: styles.ExitButton,\n              source: require(\"./exit.png\"),\n              __self: _this2,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 416,\n                columnNumber: 61\n              }\n            }))));\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 25\n          }\n        }));\n      }\n\n      return React.createElement(View, {\n        style: styles.container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 461,\n          columnNumber: 13\n        }\n      }, AddPlayerView, PlayerList);\n    }\n  }]);\n\n  return AddPlayersScreen;\n}(Component);\n\nvar styles = StyleSheet.create({\n  Text: {\n    paddingLeft: 40,\n    color: 'white',\n    fontWeight: \"bold\"\n  },\n  ExitButton: {\n    width: 50,\n    height: 48\n  },\n  container: {\n    backgroundColor: '#242424',\n    alignItems: 'center',\n    width: '50%'\n  },\n  StatRow: {\n    flex: 1,\n    flexDirection: \"column\",\n    marginBottom: 10,\n    backgroundColor: \"#33343F\"\n  },\n  StatColumn: {\n    flex: 1,\n    flexDirection: \"column\",\n    backgroundColor: \"#33343F\"\n  },\n  columnView: {\n    paddingTop: 10,\n    paddingBottom: 10,\n    paddingLeft: 10,\n    paddingRight: 10,\n    alignItems: 'center'\n  },\n  PlayerName: {\n    paddingBottom: 30,\n    paddingRight: 50,\n    color: 'black',\n    alignItems: 'center',\n    fontWeight: \"bold\",\n    justifyContent: 'center'\n  },\n  textWrapper: {\n    flexDirection: \"row\",\n    justifyContent: 'center',\n    backgroundColor: 'white',\n    alignItems: 'center',\n    borderColor: '#C30000',\n    width: '50%',\n    borderWidth: 4,\n    marginTop: 10,\n    marginBottom: 10,\n    marginLeft: 30,\n    marginRight: 90,\n    paddingTop: 10,\n    paddingLeft: 10,\n    borderRadius: 10\n  },\n  textcolumn: {\n    flexDirection: \"column\",\n    justifyContent: 'center',\n    width: '50%',\n    backgroundColor: 'white',\n    alignItems: 'center',\n    borderColor: '#C30000',\n    borderWidth: 4,\n    marginTop: 10,\n    marginBottom: 10,\n    marginLeft: 30,\n    marginRight: 90,\n    paddingTop: 10,\n    paddingLeft: 10,\n    borderRadius: 10\n  },\n  myText: {\n    color: 'white',\n    alignItems: 'center',\n    paddingTop: 5\n  },\n  dcontainer: {\n    backgroundColor: 'white',\n    height: '100%',\n    alignItems: \"center\",\n    fontSize: 20\n  },\n  input: {\n    height: 60,\n    width: 190,\n    borderWidth: 2,\n    borderRadius: 5,\n    overflow: 'hidden',\n    backgroundColor: 'white',\n    borderColor: '#C30000',\n    marginTop: 10,\n    marginBottom: 10,\n    marginLeft: 30,\n    marginRight: 30,\n    paddingLeft: 16\n  },\n  exitRedButton: {\n    backgroundColor: '#C30000',\n    paddingBottom: 30,\n    paddingLeft: 16,\n    paddingRight: 16,\n    borderRadius: 5,\n    alignItems: \"center\",\n    justifyContent: 'space-around'\n  },\n  exitRedButtonTitle: {\n    color: 'white',\n    fontSize: hp('2%')\n  },\n  BlackText: {\n    color: 'black'\n  },\n  BlackTextBold: {\n    color: 'black',\n    fontWeight: \"bold\"\n  },\n  WhiteTextBold: {\n    color: 'white',\n    fontWeight: \"bold\"\n  },\n  footerView: {\n    marginTop: 30,\n    marginBottom: 30,\n    alignItems: \"center\"\n  },\n  footerText: {\n    color: 'black',\n    fontSize: hp('2%')\n  },\n  footerLink: {\n    color: \"#788eec\",\n    fontSize: hp('2%')\n  },\n  headerContainer: {\n    backgroundColor: 'white',\n    alignItems: \"center\",\n    borderWidth: 4,\n    borderRadius: 20,\n    borderColor: '#C30000',\n    fontWeight: \"bold\"\n  }\n});\nexport default AddPlayersScreen;","map":{"version":3,"sources":["D:/StatsAppNative/MyApp/screens/AddPlayers/AddPlayersScreen.js"],"names":["React","useEffect","useState","Component","firebase","widthPercentageToDP","wp","heightPercentageToDP","hp","useNavigation","createAppContainer","createStackNavigator","ImageEditor","AddPlayersScreen","props","playerList","myUserId","auth","currentUser","uid","tempArr","database","ref","child","on","snapshot","snapshotToArray","setState","listPlayers","retArr","forEach","childSnapshot","item","val","key","push","checkLimit","userObj","teamplayerlimit","teamObj","playercounter","addPlayer","state","fullName","inviteCode","length","playerData1","checkUniqueness","orderByChild","equalTo","once","exists","alert","isUnique","randLetter","String","fromCharCode","Math","floor","random","uniqid","Date","now","playerData","UserID","Verified","starting11Status","SubStatus","AvailableStatus","totalGoals","totalPoints","totalPasses","totalShots","totalShotsOnTarget","totalTackles","totalWonTheBall","totalLostTheBall","totalYellowCards","totalRedCards","totalAssists","teamplayersref","set","ServerValue","increment","ViewPlayer","itemKey","playerObj","navigation","navigate","playerKey","RemovePlayer","remove","starting11Player","templist","tempid","AddPlayerView","PlayerList","checkplayercounter","checkteamplayerlimit","styles","myText","textcolumn","BlackTextBold","columnView","BlackText","input","text","footerView","exitRedButton","WhiteTextBold","textWrapper","PlayerName","RedButton","ExitButton","require","container","StyleSheet","create","Text","paddingLeft","color","fontWeight","width","height","backgroundColor","alignItems","StatRow","flex","flexDirection","marginBottom","StatColumn","paddingTop","paddingBottom","paddingRight","justifyContent","borderColor","borderWidth","marginTop","marginLeft","marginRight","borderRadius","dcontainer","fontSize","overflow","exitRedButtonTitle","footerText","footerLink","headerContainer"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, Component } from 'react'\r\nimport { Image, Text, TextInput, FlatList, TouchableOpacity, View ,Button ,ScrollView, Alert , StyleSheet} from 'react-native'\r\n\r\nimport firebase from 'firebase/app'\r\nimport 'firebase/auth';\r\nimport 'firebase/database';\r\nimport {widthPercentageToDP as wp, heightPercentageToDP as hp} from 'react-native-responsive-screen';\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport { createAppContainer } from 'react-navigation';\r\nimport { createStackNavigator } from 'react-navigation-stack';\r\nimport { ImageEditor } from 'react-native';\r\n\r\n\r\n class AddPlayersScreen extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { \r\n            fullName: '',\r\n            inviteCode: '',\r\n            playercounter: 0,\r\n            teamplayerlimit:0,\r\n            starting11Player:0,\r\n            SubStatus:0,\r\n            listPlayers:[],\r\n            templist:[],\r\n            tempid:'',\r\n         };\r\n\r\n    \r\n      }\r\n\r\n      componentDidMount(){\r\n            this.checkLimit();\r\n            this.playerList();\r\n\r\n         \r\n    \r\n       }\r\n       \r\n       \r\n        \r\n  \r\n\r\n       playerList = () => {\r\n\r\n    \r\n                var myUserId = firebase.auth().currentUser.uid;\r\n                var tempArr = [];\r\n\r\n                firebase.database().ref('/teams').child(myUserId).child('/players')\r\n                    .on('value', snapshot => {\r\n                      \r\n                       tempArr = this.snapshotToArray(snapshot);\r\n                        this.setState({\r\n                            listPlayers: tempArr\r\n                        });\r\n\r\n\r\n                    })\r\n\r\n       \r\n        }\r\n       \r\n\r\n        snapshotToArray = snapshot => {\r\n            var retArr = [];\r\n            snapshot.forEach(childSnapshot => {\r\n                var item = childSnapshot.val();\r\n                item.key = childSnapshot.key;\r\n                retArr.push(item);\r\n            });\r\n            return retArr;\r\n        }\r\n   \r\n    \r\n      \r\n\r\n\r\n        checkLimit = () => {\r\n\r\n\r\n                var myUserId = firebase.auth().currentUser.uid;\r\n\r\n\r\n                    //get value and check the clients team player limit \r\n                    firebase.database().ref('/users').child(myUserId)\r\n                    .on('value', (snapshot) => {\r\n                    \r\n                    const userObj = snapshot.val();\r\n                    let teamplayerlimit= userObj.teamplayerlimit;\r\n                    this.setState({teamplayerlimit:teamplayerlimit});\r\n\r\n                    //get value and check clients player counter\r\n                    firebase.database().ref('/teams').child(myUserId)\r\n                    .on('value', (snapshot) => {\r\n\r\n                    const teamObj = snapshot.val();\r\n                    let playercounter= teamObj.playercounter;\r\n                    this.setState({playercounter:playercounter});\r\n\r\n                });\r\n   \r\n            });\r\n               \r\n        }\r\n\r\n        addPlayer = async() => {\r\n          \r\n            const { fullName, inviteCode} = this.state\r\n\r\n            if (fullName.length > 0) {\r\n                \r\n\r\n                if (inviteCode.length > 0) {\r\n                \r\n                    const playerData1 = {\r\n                        inviteCode:this.state.inviteCode,\r\n                    };\r\n        \r\n                    var myUserId = firebase.auth().currentUser.uid;\r\n                    \r\n            //Check if the team invite is completely unique in the users list\r\n            const checkUniqueness = firebase.database().ref('/teams').child(myUserId).child('/players').orderByChild('inviteCode').equalTo(playerData1.inviteCode).once('value' , snapshot =>  {\r\n                if (snapshot.exists()){\r\n                  alert('This player invite code has already been used, try again');\r\n                }\r\n                else\r\n                {\r\n\r\n                    var isUnique = false;\r\n\r\n\r\n                    \r\n                    //Check if the UserID generated is unique \r\n                    while (isUnique == false)\r\n                    {\r\n\r\n                        //Generate a random UserID\r\n                        var randLetter = String.fromCharCode(65 + Math.floor(Math.random() * 26));\r\n                        var uniqid = randLetter + Date.now();\r\n                 \r\n\r\n                            // RISK Acceptance//\r\n                        // The odds of the team having the same userid within this very low as you can only have 30 players\r\n\r\n\r\n                        const checkUniqueness = firebase.database().ref('/teams').child(myUserId).child('/players').orderByChild('UserID').equalTo(uniqid).once('value' , snapshot =>  {\r\n                            if(snapshot.exists())\r\n                            {\r\n                             \r\n                                isUnique = false;\r\n                            }\r\n                            else\r\n                            {\r\n                                const playerData = {\r\n                                    fullName:this.state.fullName,\r\n                                    inviteCode:this.state.inviteCode,\r\n                                    UserID: uniqid,\r\n                                    Verified: false,\r\n                                    starting11Status: 0,\r\n                                    SubStatus:0,\r\n                                    AvailableStatus:1,\r\n                                    totalGoals:0,\r\n                                    totalPoints:0,\r\n                                    totalPasses: 0,\r\n                                    totalShots:0,\r\n                                    totalShotsOnTarget:0,\r\n                                    totalTackles:0,\r\n                                    totalWonTheBall:0,\r\n                                    totalLostTheBall:0,\r\n                                    totalYellowCards:0,\r\n                                    totalRedCards:0,\r\n                                    totalAssists:0\r\n                                };\r\n                                \r\n                                const teamplayersref = firebase.database().ref('/teams').child(myUserId).child('/players')\r\n                        \r\n                                   firebase.database().ref('/teams').child(myUserId)\r\n                                    .child('playercounter')\r\n                                    .set(firebase.database.ServerValue.increment(1))\r\n                    \r\n                    \r\n                                teamplayersref.push(playerData);\r\n                          \r\n                                \r\n                        \r\n\r\n                               \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                                isUnique = true;\r\n\r\n\r\n                     \r\n                             \r\n                            }\r\n                        });\r\n\r\n                        if(isUnique = true)\r\n                        {\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                \r\n                   \r\n     \r\n                  \r\n            \r\n\r\n\r\n            \r\n                }\r\n        \r\n\r\n\r\n                });\r\n\r\n            }\r\n                else\r\n                {\r\n                    alert(\"Please enter their invite code.\")\r\n                }\r\n    \r\n                     \r\n            }\r\n            else\r\n            {\r\n                alert(\"Please enter their full name.\")\r\n            }\r\n         \r\n      \r\n       \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n          \r\n\r\n\r\n\r\n    }\r\n\r\n    ViewPlayer = ( itemKey ) => {\r\n        var myUserId = firebase.auth().currentUser.uid;\r\n        \r\n         firebase.database().ref('/teams').child(myUserId).child('/players').child(itemKey)\r\n         .once('value' , snapshot =>  {\r\n            const playerObj = snapshot.val();\r\n\r\n\r\n            this.props.navigation.navigate('ViewPlayer', {\r\n                playerKey: playerObj.UserID,\r\n                itemKey: itemKey\r\n            });\r\n\r\n\r\n         });     \r\n\r\n\r\n\r\n \r\n\r\n    }\r\n    \r\n    \r\n    RemovePlayer = ( itemKey ) => {\r\n\r\n\r\n        \r\n        var myUserId = firebase.auth().currentUser.uid;\r\n        //Obtain the selected player (UserID) from the list of data \r\n\r\n        firebase.database().ref('/teams').child(myUserId).child('/players')\r\n        .once('value' , snapshot =>  {\r\n            if (snapshot.exists())\r\n            {\r\n\r\n\r\n                    //Remove record from team players record\r\n                    firebase.database().ref('/teams').child(myUserId).child('/players').child(itemKey).remove();\r\n\r\n\r\n                    //Reduce player counter by 1\r\n                    firebase.database().ref('/teams').child(myUserId)\r\n                    .child('playercounter')\r\n                    .set(firebase.database.ServerValue.increment(-1))\r\n\r\n            }\r\n            else{\r\n                alert('Player does not exist')\r\n            }\r\n         \r\n        });\r\n      \r\n   \r\n    }\r\n\r\n    render (){\r\n        var AddPlayerView;\r\n        var PlayerList;\r\n\r\n\r\n        const checkplayercounter = this.state.playercounter;\r\n        const checkteamplayerlimit = this.state.teamplayerlimit;\r\n\r\n        if(checkplayercounter == checkteamplayerlimit)\r\n        {\r\n            AddPlayerView = (\r\n                <View>\r\n                    <Text style={styles.myText}>Your Team player limit has been hit.  Please either delete a player from your team or contact us to upgrade you package </Text>\r\n                </View>\r\n            );\r\n        }\r\n        else{\r\n\r\n            AddPlayerView = (\r\n                <View>\r\n\r\n                    <ScrollView>\r\n                    <View style={styles.textcolumn}>\r\n                            <Text style={styles.BlackTextBold}> Create a Player record: </Text>\r\n                        <View style={styles.columnView}>\r\n                                <Text style={styles.BlackText}> Please enter their full name:</Text>\r\n                                <TextInput\r\n                                    style={styles.input}\r\n                                    placeholderTextColor=\"#aaaaaa\"\r\n                                    placeholder='Please enter your full name'\r\n                                    // onChangeText={(text) => setFullName(text)}\r\n                                    onChangeText={(text) => this.setState({fullName:text})}\r\n                                    value={this.state.fullName}\r\n                                    underlineColorAndroid=\"transparent\"\r\n                                    autoCapitalize=\"none\"\r\n                                />\r\n\r\n                            </View>\r\n\r\n                            <View style={styles.columnView}>\r\n                                <Text style={styles.BlackText}>*Players will enter this code when registering to join a team</Text>\r\n                                    <TextInput\r\n                                        style={styles.input}\r\n                                        placeholderTextColor=\"#aaaaaa\"\r\n                                        placeholder='Please enter your invite code'\r\n                                        // onChangeText={(text) => setInviteCode(text)}\r\n                                        onChangeText={(text) => this.setState({inviteCode:text})}\r\n                                        value={this.state.inviteCode}\r\n                                        underlineColorAndroid=\"transparent\"\r\n                                        autoCapitalize=\"none\"\r\n                                    />\r\n                            </View>\r\n\r\n                            <View style={styles.footerView}>\r\n                                <TouchableOpacity style={styles.exitRedButton} onPress={this.addPlayer}>\r\n                                    <Text style={styles.myText}>Click here to add the player</Text>\r\n                                </TouchableOpacity>\r\n                            </View>\r\n                            \r\n                        </View>\r\n                        \r\n                        </ScrollView>\r\n\r\n         \r\n\r\n                </View>\r\n            );\r\n\r\n\r\n\r\n\r\n\r\n     \r\n\r\n            PlayerList = (\r\n                \r\n              \r\n\r\n                // <View styles= {{flex: 1, alignItems: 'center', justifyContent: 'center' }}> \r\n\r\n\r\n                    <ScrollView>\r\n                    \r\n                  \r\n                        <Text style={styles.WhiteTextBold}>Your Team Members</Text>\r\n                   \r\n                        <FlatList\r\n                            data={this.state.listPlayers}\r\n                        \r\n                            renderItem={({ item }) => (\r\n                                <View style={styles.textWrapper}>\r\n                                    \r\n                                            <Text style = {styles.PlayerName}>Player Name: {item.fullName}</Text>\r\n\r\n                                                    <View style={styles.columnView}>\r\n                                                        <TouchableOpacity style={styles.exitRedButton} onPress={() => this.ViewPlayer(item.key)}>\r\n                                                            <Text style={styles.myText}>View Player</Text>\r\n                                                        </TouchableOpacity>\r\n                                                    </View> \r\n\r\n\r\n                                                    <View style={styles.columnView}>    \r\n                                                        <TouchableOpacity style={styles.RedButton} onPress={() => this.RemovePlayer(item.key)}>                           \r\n                                                            {/* <Text style={styles.myText}>Remove Player</Text>  */}\r\n                                                            <Image style={styles.ExitButton} source={require('./exit.png')}/>\r\n                                                        </TouchableOpacity>\r\n                                                    </View> \r\n\r\n                                        \r\n\r\n                                </View>\r\n                                \r\n                        \r\n                                \r\n                            )}\r\n                            \r\n                            />\r\n\r\n                    </ScrollView>\r\n\r\n            // </View>\r\n                    \r\n                     \r\n            \r\n           \r\n          \r\n       \r\n\r\n\r\n\r\n                   \r\n\r\n\r\n\r\n\r\n\r\n            );\r\n\r\n        \r\n\r\n\r\n        }\r\n        \r\n\r\n\r\n        return(\r\n         \r\n            // <ScrollView contentContainerStyle={{ flex: 1, justifyContent: 'center'  ,  backgroundColor: '#242424', alignItems: \"center\", fontSize: 20}}>\r\n\r\n            <View style={styles.container}>\r\n             {AddPlayerView}\r\n         \r\n             {PlayerList}\r\n            </View>\r\n         \r\n        )\r\n    }\r\n\r\n}\r\n\r\n\r\nconst styles = StyleSheet.create({\r\n\r\n    Text: {\r\n        paddingLeft: 40,\r\n        color: 'white',\r\n        fontWeight: \"bold\",\r\n    },\r\n\r\n    \r\n    ExitButton:{\r\n        width:50,\r\n        height: 48,\r\n    },\r\n\r\n\r\n    container: {\r\n        backgroundColor: '#242424',\r\n        alignItems: 'center',\r\n        width:'50%'\r\n    },\r\n\r\n  \r\n    StatRow: {\r\n        flex:1,\r\n       flexDirection:\"column\",\r\n       \r\n        marginBottom:10,\r\n        backgroundColor: \"#33343F\",\r\n        \r\n\r\n    },\r\n\r\n    StatColumn: {\r\n        flex:1,\r\n        flexDirection:\"column\",\r\n     \r\n        backgroundColor: \"#33343F\",\r\n \r\n    },\r\n    columnView: {\r\n        \r\n        paddingTop:10,\r\n          paddingBottom:10,\r\n          paddingLeft: 10,\r\n          paddingRight: 10,\r\n          alignItems: 'center',\r\n\r\n    },\r\n\r\n    PlayerName:{\r\n\r\n        paddingBottom: 30,\r\n        paddingRight: 50,\r\n        color: 'black',\r\n        alignItems: 'center',\r\n        fontWeight: \"bold\",\r\n        justifyContent:'center',\r\n    },\r\n\r\n    textWrapper: {\r\n\r\n      flexDirection:\"row\",\r\n      justifyContent:'center',\r\n\r\n      backgroundColor: 'white',\r\n      alignItems: 'center',\r\n      borderColor:'#C30000',\r\n      width: '50%',\r\n      borderWidth: 4,\r\n      marginTop: 10,\r\n      marginBottom: 10,\r\n      marginLeft: 30,\r\n      marginRight: 90,\r\n      paddingTop:10,\r\n      paddingLeft: 10,\r\n      borderRadius: 10,\r\n\r\n    },\r\n\r\n    textcolumn: {\r\n\r\n        flexDirection:\"column\",\r\n        justifyContent:'center',\r\n        width: '50%',\r\n        backgroundColor: 'white',\r\n        alignItems: 'center',\r\n        borderColor:'#C30000',\r\n        borderWidth: 4,\r\n        marginTop: 10,\r\n        marginBottom: 10,\r\n        marginLeft: 30,\r\n        marginRight: 90,\r\n        paddingTop:10,\r\n        paddingLeft: 10,\r\n        borderRadius: 10,\r\n  \r\n      },\r\n    myText: {\r\n\r\n      color: 'white',\r\n      alignItems: 'center',\r\n\r\n      paddingTop: 5\r\n  \r\n    },\r\n\r\n    dcontainer: {\r\n        backgroundColor: 'white',\r\n        height:'100%',\r\n        alignItems: \"center\",\r\n        fontSize: 20,\r\n       \r\n    },\r\n\r\n\r\n    input: {\r\n        height: 60,\r\n        width:190,\r\n        borderWidth: 2,\r\n        borderRadius: 5,\r\n        overflow: 'hidden',\r\n        backgroundColor: 'white',\r\n        borderColor:'#C30000',\r\n        marginTop: 10,\r\n        marginBottom: 10,\r\n        marginLeft: 30,\r\n        marginRight: 30,\r\n        paddingLeft: 16\r\n    },\r\n    exitRedButton: {\r\n        backgroundColor: '#C30000',\r\n        paddingBottom: 30,\r\n        paddingLeft: 16,\r\n        paddingRight: 16,\r\n        borderRadius: 5,\r\n        alignItems: \"center\",\r\n        justifyContent: 'space-around'\r\n    },\r\n\r\n  \r\n    exitRedButtonTitle: {\r\n        color: 'white',\r\n        fontSize: hp('2%'),\r\n   \r\n    },\r\n\r\n    BlackText:{\r\n        color: 'black',\r\n    },\r\n \r\n  \r\n    BlackTextBold:{\r\n        color: 'black',\r\n        fontWeight: \"bold\",\r\n\r\n    },\r\n\r\n    \r\n    WhiteTextBold:{\r\n        color: 'white',\r\n        fontWeight: \"bold\",\r\n\r\n    },\r\n    \r\n    footerView: {\r\n        marginTop: 30,\r\n        marginBottom: 30,\r\n        alignItems: \"center\",\r\n  \r\n        \r\n    },\r\n    footerText: {\r\n        color: 'black',\r\n        fontSize: hp('2%'),\r\n        \r\n    },\r\n    footerLink: {\r\n        color: \"#788eec\",\r\n        fontSize: hp('2%') \r\n    },\r\n    headerContainer:{ \r\n\r\n        backgroundColor: 'white',\r\n        alignItems: \"center\",\r\n        borderWidth: 4,\r\n        borderRadius: 20,\r\n        borderColor:'#C30000',\r\n        fontWeight: \"bold\",\r\n\r\n    },\r\n\r\n  });\r\n\r\n\r\n\r\nexport default AddPlayersScreen;\r\n\r\n"]},"metadata":{},"sourceType":"module"}